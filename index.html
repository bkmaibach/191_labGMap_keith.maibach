<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style>
            /* Always set the map height explicitly to define the size of the div
             * element that contains the map. */
            #map {
              height: 80%;
              width: 80%;

            }
            /* Optional: Makes the sample page fill the window. */
            html, body {
              height: 100%;
              margin: 0;
              padding: 0;
              background-color: rgb(238, 230, 230)
            }
            button{
                height: 90px;
                width: 300px;
                margin: 5px;
                display: inline;
            }
            #legend{
                position: absolute;
                top: 0;
                right: 0;
                width: 20%

            }
            #bottom{
                height: 20%;
            }

          </style>
    </head>
    <body onload="setListener()">
        <h1>Keith's Favorite Places on Google Maps</h1>
        <div id="map"></div>
        
        <script>
            var map;
            function initMap() {
              map = new google.maps.Map(document.getElementById('map'), {
                center: {lat: 49.157, lng: -123.966}, 
                zoom: 13
              });
              let urlA = "https://dev.itas.ca/~keith.maibach/Lab2/letterA.jpg";
              let urlB = "https://dev.itas.ca/~keith.maibach/Lab2/letterB.jpg";
              let urlC = "https://dev.itas.ca/~keith.maibach/Lab2/letterC.jpg";
              var aMarker = new google.maps.Marker({
                  position: {lat:49.158024, lng: -123.964154},
                  map: map,
                  icon: urlA
              });
              var bMarker = new google.maps.Marker({
                  position: {lat: 49.196102, lng: -123.994574},
                  map: map,
                  icon: urlB
              });
              var cMarker = new google.maps.Marker({
                  position: {lat: 49.205964, lng: -124.005258},
                  map: map,
                  icon: urlC
              });
            }
          </script>
          <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDbpuCs0LTGwkDKsKy-cXeUJSHgLHfYNvM&callback=initMap"
          async defer></script>

          <script>
            let myLatLng = {lat:49.158024, lng: -123.964154};
            function info () {
                var marker = new google.maps.Marker({
                position: myLatLng,
                map: map,
                title: 'Building 180'
                });

            var contentString = '<div id="content">'+
                '<div id="siteNotice">'+
                '</div>'+
                '<h1 id="firstHeading" class="firstHeading">Building 180</h1>'+
                '<div id="bodyContent">'+
                '<p><b>Building 180</b>, also referred to as <b>That Pipey Building</b>, is a large ' +
                'concrete formation in the eastern part of the '+
                'campus of Vancouver Island University. It lies 335&#160;km (208&#160;mi) '+
                'south west of the nearest large town, Nanaimo; 450&#160;km '+
                '(280&#160;mi) by road. The gymnasium and Building 180 are the two major '+
                'features of the campus. Building 180 is '+
                'sacred to the ITAS and Trades programs, the '+
                'Aboriginal people of the area. It has many classrooms, waterholes, '+
                'pipes and ancient paintings. Building 180 is listed as a World '+
                'Heritage Site.</p>'+
                '<p>Attribution: Building 180, <a href="https://tradesappliedtech.viu.ca/itas">'+
                'ITAS Building</a> '+
                '(last visited June 22, 2009).</p>'+
                '</div>'+
                '</div>';
                
                var infoWindow = new google.maps.InfoWindow({
                content: contentString
                });

                infoWindow.open(map, marker);
            }

            function draw() {
                var buildingCoords = [
                    {lat: 49.158254, lng: -123.964544},
                    {lat: 49.158303, lng: -123.964350},
                    {lat: 49.158404, lng: -123.964151},
                    {lat: 49.157671, lng: -123.964006},
                    {lat: 49.157625, lng: -123.964269},
                    {lat: 49.158027, lng: -123.964325},
                    {lat: 49.158030, lng: -123.964397},
                    {lat: 49.158254, lng: -123.964544}
                ];
                var building = new google.maps.Polyline({
                    path: buildingCoords,
                    geodesic: true,
                    strokeColor: '#FF0000',
                    strokeOpacity: 1.0,
                    strokeWeight: 2
                });

                building.setMap(map);
            }

            function setListener (){
                document.getElementById("myForm").addEventListener("submit", function(e){

                    e.preventDefault();    //stop form from submitting
                    let name = document.getElementById("name").value;
                    alert(name);
                    
                });
            }

            </script>
          
          <div id="bottom">
            <button onclick=info()>Info</button>
            <button onclick=draw()>Draw</button>
            <form id="myForm" action="">
                <label for="name">What is your name?</label>
                <input id="name" name="name" type="text">
                <input type="submit">
            </form>
          </div>

          <div id="legend">
            <h1>Legend:</h1>
            <table>
                <tr>
                    <td><img src="https://dev.itas.ca/~keith.maibach/Lab2/letterA.jpg" alt="A Icon"></td>
                    <td>Vancouver Island University</td>
                </tr>
                <tr>
                    <td><img src="https://dev.itas.ca/~keith.maibach/Lab2/letterB.jpg" alt="B Icon"></td>
                    <td>Beban Park</td>
                </tr>
                <tr>
                    <td><img src="https://dev.itas.ca/~keith.maibach/Lab2/letterC.jpg" alt="C Icon"></td>
                    <td>Country Club Mall</td>
                </tr>
            </table>
          </div>
          

    </body>
</html>